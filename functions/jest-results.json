{"numFailedTestSuites":4,"numFailedTests":4,"numPassedTestSuites":31,"numPassedTests":474,"numPendingTestSuites":1,"numPendingTests":15,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":36,"numTotalTests":493,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1766360230125,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Catalog Schema"],"duration":106,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Schema validates a complete listing object","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360231854,"status":"passed","title":"validates a complete listing object"},{"ancestorTitles":["Catalog Schema"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Schema rejects listing without required title","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360231962,"status":"passed","title":"rejects listing without required title"},{"ancestorTitles":["Catalog Schema"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Schema rejects listing without required coordinates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360231964,"status":"passed","title":"rejects listing without required coordinates"},{"ancestorTitles":["Catalog Schema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Schema validates all listing types","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1766360231966,"status":"passed","title":"validates all listing types"},{"ancestorTitles":["Catalog Schema"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Schema validates all listing statuses","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1766360231967,"status":"passed","title":"validates all listing statuses"},{"ancestorTitles":["CatalogService Contract"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CatalogService Contract exposes getListing method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360231969,"status":"passed","title":"exposes getListing method"},{"ancestorTitles":["CatalogService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CatalogService Contract exposes createListing method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360231971,"status":"passed","title":"exposes createListing method"},{"ancestorTitles":["CatalogService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CatalogService Contract exposes updateListing method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360231971,"status":"passed","title":"exposes updateListing method"},{"ancestorTitles":["CatalogService Contract"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CatalogService Contract exposes getListings method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360231972,"status":"passed","title":"exposes getListings method"},{"ancestorTitles":["CatalogService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CatalogService Contract exposes approveListing method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360231974,"status":"passed","title":"exposes approveListing method"},{"ancestorTitles":["CatalogService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CatalogService Contract does NOT expose user profile APIs","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360231975,"status":"passed","title":"does NOT expose user profile APIs"},{"ancestorTitles":["CatalogService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CatalogService Contract does NOT expose booking APIs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360231976,"status":"passed","title":"does NOT expose booking APIs"},{"ancestorTitles":["CatalogService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CatalogService Contract does NOT expose request APIs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360231976,"status":"passed","title":"does NOT expose request APIs"},{"ancestorTitles":["CatalogService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CatalogService Contract does NOT expose Firestore directly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360231977,"status":"passed","title":"does NOT expose Firestore directly"},{"ancestorTitles":["CatalogController Contract"],"duration":35,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CatalogController Contract exposes getListing method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360231979,"status":"passed","title":"exposes getListing method"},{"ancestorTitles":["CatalogController Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CatalogController Contract exposes createListing method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232015,"status":"passed","title":"exposes createListing method"},{"ancestorTitles":["CatalogController Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CatalogController Contract exposes updateListing method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232016,"status":"passed","title":"exposes updateListing method"},{"ancestorTitles":["CatalogController Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CatalogController Contract exposes approveListing method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232016,"status":"passed","title":"exposes approveListing method"},{"ancestorTitles":["CatalogController Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CatalogController Contract does NOT expose raw Firestore methods","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232016,"status":"passed","title":"does NOT expose raw Firestore methods"},{"ancestorTitles":["Catalog Permissions"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Permissions allows anyone to get an approved listing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232050,"status":"passed","title":"allows anyone to get an approved listing"},{"ancestorTitles":["Catalog Permissions"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Permissions denies regular user from creating listings","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232053,"status":"passed","title":"denies regular user from creating listings"},{"ancestorTitles":["Catalog Permissions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Permissions allows provider to create listings","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232057,"status":"passed","title":"allows provider to create listings"},{"ancestorTitles":["Catalog Permissions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Permissions allows admin to create listings","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232058,"status":"passed","title":"allows admin to create listings"},{"ancestorTitles":["Catalog Permissions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Permissions denies regular user from approving listings","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232058,"status":"passed","title":"denies regular user from approving listings"},{"ancestorTitles":["Catalog Permissions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Permissions denies provider from approving listings","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232059,"status":"passed","title":"denies provider from approving listings"},{"ancestorTitles":["Catalog Permissions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Permissions allows admin to approve listings","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232059,"status":"passed","title":"allows admin to approve listings"},{"ancestorTitles":["Catalog Permissions"],"duration":3,"failing":false,"failureDetails":[{"message":"expect(received).resolves.not.toThrow()\n\nReceived promise rejected instead of resolved\nRejected to value: [TypeError: import_catalog.CatalogService.getListingOwnerId is not a function]"}],"failureMessages":["Error: expect(received).resolves.not.toThrow()\n\nReceived promise rejected instead of resolved\nRejected to value: [TypeError: import_catalog.CatalogService.getListingOwnerId is not a function]\n    at expect (/Users/apple_trnc/Downloads/easy-islanders/node_modules/.pnpm/expect@30.2.0/node_modules/expect/build/index.js:2116:15)\n    at Object.<anonymous> (/Users/apple_trnc/Downloads/easy-islanders/functions/src/modules/catalog/catalog.test.ts:332:15)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"fullName":"Catalog Permissions allows provider to update their own listing","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360232065,"status":"failed","title":"allows provider to update their own listing"}],"endTime":1766360232169,"message":"  ● Catalog Permissions › allows provider to update their own listing\n\n    expect(received).resolves.not.toThrow()\n\n    Received promise rejected instead of resolved\n    Rejected to value: [TypeError: import_catalog.CatalogService.getListingOwnerId is not a function]\n\n      330 |         const ctx = { uid: \"provider123\", role: \"provider\" as const, isAdmin: false };\n      331 |\n    > 332 |         await expect(\n          |               ^\n      333 |             CatalogController.updateListing(ctx, \"listing123\", { title: \"Updated Title\" })\n      334 |         ).resolves.not.toThrow();\n      335 |     });\n\n      at expect (../node_modules/.pnpm/expect@30.2.0/node_modules/expect/build/index.js:2116:15)\n      at Object.<anonymous> (src/modules/catalog/catalog.test.ts:332:15)\n","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/modules/catalog/catalog.test.ts","startTime":1766360230849,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Requests Schema"],"duration":42,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Requests Schema validates a complete request object","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232092,"status":"passed","title":"validates a complete request object"},{"ancestorTitles":["Requests Schema"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Requests Schema rejects request without required userId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232135,"status":"passed","title":"rejects request without required userId"},{"ancestorTitles":["Requests Schema"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Requests Schema rejects request without required title","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232137,"status":"passed","title":"rejects request without required title"},{"ancestorTitles":["Requests Schema"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Requests Schema validates all request types","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1766360232139,"status":"passed","title":"validates all request types"},{"ancestorTitles":["Requests Schema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Requests Schema validates all request statuses","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1766360232141,"status":"passed","title":"validates all request statuses"},{"ancestorTitles":["Request Status Transitions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Request Status Transitions allows pending → assigned","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232143,"status":"passed","title":"allows pending → assigned"},{"ancestorTitles":["Request Status Transitions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Request Status Transitions allows pending → cancelled","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232144,"status":"passed","title":"allows pending → cancelled"},{"ancestorTitles":["Request Status Transitions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Request Status Transitions allows assigned → in_progress","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232145,"status":"passed","title":"allows assigned → in_progress"},{"ancestorTitles":["Request Status Transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Request Status Transitions allows assigned → cancelled","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232146,"status":"passed","title":"allows assigned → cancelled"},{"ancestorTitles":["Request Status Transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Request Status Transitions allows in_progress → completed","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232147,"status":"passed","title":"allows in_progress → completed"},{"ancestorTitles":["Request Status Transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Request Status Transitions rejects pending → completed (must go through lifecycle)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232147,"status":"passed","title":"rejects pending → completed (must go through lifecycle)"},{"ancestorTitles":["Request Status Transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Request Status Transitions rejects pending → in_progress (must be assigned first)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232148,"status":"passed","title":"rejects pending → in_progress (must be assigned first)"},{"ancestorTitles":["Request Status Transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Request Status Transitions rejects completed → pending (no backward transitions)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232148,"status":"passed","title":"rejects completed → pending (no backward transitions)"},{"ancestorTitles":["Request Status Transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Request Status Transitions rejects in_progress → cancelled (too late to cancel)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232149,"status":"passed","title":"rejects in_progress → cancelled (too late to cancel)"},{"ancestorTitles":["Request Status Transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Request Status Transitions rejects cancelled → anything (terminal state)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232149,"status":"passed","title":"rejects cancelled → anything (terminal state)"},{"ancestorTitles":["RequestsService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsService Contract exposes getRequest method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232149,"status":"passed","title":"exposes getRequest method"},{"ancestorTitles":["RequestsService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsService Contract exposes createRequest method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232151,"status":"passed","title":"exposes createRequest method"},{"ancestorTitles":["RequestsService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsService Contract exposes updateRequestStatus method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232151,"status":"passed","title":"exposes updateRequestStatus method"},{"ancestorTitles":["RequestsService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsService Contract exposes getRequestsByUser method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232151,"status":"passed","title":"exposes getRequestsByUser method"},{"ancestorTitles":["RequestsService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsService Contract exposes assignRequest method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232151,"status":"passed","title":"exposes assignRequest method"},{"ancestorTitles":["RequestsService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsService Contract exposes cancelRequest method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232152,"status":"passed","title":"exposes cancelRequest method"},{"ancestorTitles":["RequestsService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsService Contract does NOT expose booking APIs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232152,"status":"passed","title":"does NOT expose booking APIs"},{"ancestorTitles":["RequestsService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsService Contract does NOT expose user APIs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232153,"status":"passed","title":"does NOT expose user APIs"},{"ancestorTitles":["RequestsService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsService Contract does NOT expose listing APIs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232157,"status":"passed","title":"does NOT expose listing APIs"},{"ancestorTitles":["RequestsService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsService Contract does NOT expose Firestore directly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232157,"status":"passed","title":"does NOT expose Firestore directly"},{"ancestorTitles":["RequestsController Contract"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsController Contract exposes getRequest method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232158,"status":"passed","title":"exposes getRequest method"},{"ancestorTitles":["RequestsController Contract"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsController Contract exposes createRequest method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232167,"status":"passed","title":"exposes createRequest method"},{"ancestorTitles":["RequestsController Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsController Contract exposes updateRequestStatus method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232169,"status":"passed","title":"exposes updateRequestStatus method"},{"ancestorTitles":["RequestsController Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsController Contract exposes cancelRequest method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232170,"status":"passed","title":"exposes cancelRequest method"},{"ancestorTitles":["RequestsController Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RequestsController Contract does NOT expose raw Firestore methods","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232170,"status":"passed","title":"does NOT expose raw Firestore methods"},{"ancestorTitles":["Requests Permissions"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Requests Permissions allows authenticated user to create request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232171,"status":"passed","title":"allows authenticated user to create request"},{"ancestorTitles":["Requests Permissions"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Requests Permissions allows user to view their own request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232173,"status":"passed","title":"allows user to view their own request"},{"ancestorTitles":["Requests Permissions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Requests Permissions denies user from viewing another user request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232176,"status":"passed","title":"denies user from viewing another user request"},{"ancestorTitles":["Requests Permissions"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Requests Permissions allows admin to view any request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232176,"status":"passed","title":"allows admin to view any request"},{"ancestorTitles":["Requests Permissions"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Requests Permissions allows user to cancel their own pending request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232178,"status":"passed","title":"allows user to cancel their own pending request"},{"ancestorTitles":["Requests Permissions"],"duration":4,"failing":false,"failureDetails":[{"message":"expect(received).resolves.not.toThrow()\n\nReceived promise rejected instead of resolved\nRejected to value: [AppError: You cannot update this request status]"}],"failureMessages":["Error: expect(received).resolves.not.toThrow()\n\nReceived promise rejected instead of resolved\nRejected to value: [AppError: You cannot update this request status]\n    at expect (/Users/apple_trnc/Downloads/easy-islanders/node_modules/.pnpm/expect@30.2.0/node_modules/expect/build/index.js:2116:15)\n    at Object.<anonymous> (/Users/apple_trnc/Downloads/easy-islanders/functions/src/modules/requests/requests.test.ts:337:15)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"fullName":"Requests Permissions allows provider to update request status when assigned to them","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360232180,"status":"failed","title":"allows provider to update request status when assigned to them"},{"ancestorTitles":["Requests Permissions"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Requests Permissions allows admin to assign requests","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232210,"status":"passed","title":"allows admin to assign requests"}],"endTime":1766360232274,"message":"  ● Requests Permissions › allows provider to update request status when assigned to them\n\n    expect(received).resolves.not.toThrow()\n\n    Received promise rejected instead of resolved\n    Rejected to value: [AppError: You cannot update this request status]\n\n      335 |         const ctx = { uid: \"provider123\", role: \"provider\" as const, isAdmin: false };\n      336 |\n    > 337 |         await expect(\n          |               ^\n      338 |             RequestsController.updateRequestStatus(ctx, \"request123\", { status: \"in_progress\" })\n      339 |         ).resolves.not.toThrow();\n      340 |     });\n\n      at expect (../node_modules/.pnpm/expect@30.2.0/node_modules/expect/build/index.js:2116:15)\n      at Object.<anonymous> (src/modules/requests/requests.test.ts:337:15)\n","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/modules/requests/requests.test.ts","startTime":1766360230814,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Jobs API - Schema Validation","JobSchema"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - Schema Validation JobSchema accepts valid collecting job without merchantTarget","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232529,"status":"passed","title":"accepts valid collecting job without merchantTarget"},{"ancestorTitles":["Jobs API - Schema Validation","JobSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - Schema Validation JobSchema accepts valid confirming job without merchantTarget","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232538,"status":"passed","title":"accepts valid confirming job without merchantTarget"},{"ancestorTitles":["Jobs API - Schema Validation","JobSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - Schema Validation JobSchema rejects dispatched job without merchantTarget","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232539,"status":"passed","title":"rejects dispatched job without merchantTarget"},{"ancestorTitles":["Jobs API - Schema Validation","JobSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - Schema Validation JobSchema accepts dispatched job with listed merchantTarget","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232540,"status":"passed","title":"accepts dispatched job with listed merchantTarget"},{"ancestorTitles":["Jobs API - Schema Validation","JobSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - Schema Validation JobSchema accepts dispatched job with unlisted merchantTarget","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232541,"status":"passed","title":"accepts dispatched job with unlisted merchantTarget"},{"ancestorTitles":["Jobs API - POST /v1/jobs","Request Validation"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - POST /v1/jobs Request Validation rejects request without actionType","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232542,"status":"passed","title":"rejects request without actionType"},{"ancestorTitles":["Jobs API - POST /v1/jobs","Request Validation"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - POST /v1/jobs Request Validation rejects request with mismatched actionType and actionData","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232545,"status":"passed","title":"rejects request with mismatched actionType and actionData"},{"ancestorTitles":["Jobs API - POST /v1/jobs","Request Validation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - POST /v1/jobs Request Validation accepts valid taxi job request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232545,"status":"passed","title":"accepts valid taxi job request"},{"ancestorTitles":["Jobs API - POST /v1/jobs","Request Validation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - POST /v1/jobs Request Validation accepts request with clientRequestId for idempotency","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232546,"status":"passed","title":"accepts request with clientRequestId for idempotency"},{"ancestorTitles":["Jobs API - POST /v1/jobs","Idempotency"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - POST /v1/jobs Idempotency returns existing job when clientRequestId matches","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232547,"status":"passed","title":"returns existing job when clientRequestId matches"},{"ancestorTitles":["Jobs API - POST /v1/jobs/:id/confirm","State Transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - POST /v1/jobs/:id/confirm State Transitions allows collecting → confirming","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232548,"status":"passed","title":"allows collecting → confirming"},{"ancestorTitles":["Jobs API - POST /v1/jobs/:id/confirm","State Transitions"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - POST /v1/jobs/:id/confirm State Transitions rejects dispatched → collecting (backward transition)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232548,"status":"passed","title":"rejects dispatched → collecting (backward transition)"},{"ancestorTitles":["Jobs API - POST /v1/jobs/:id/confirm","Authorization"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - POST /v1/jobs/:id/confirm Authorization rejects confirmation from non-owner","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232550,"status":"passed","title":"rejects confirmation from non-owner"},{"ancestorTitles":["Jobs API - GET /v1/jobs/:id","Authorization"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - GET /v1/jobs/:id Authorization returns job for owner","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232551,"status":"passed","title":"returns job for owner"},{"ancestorTitles":["Jobs API - GET /v1/jobs/:id","Authorization"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - GET /v1/jobs/:id Authorization rejects get from non-owner","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232552,"status":"passed","title":"rejects get from non-owner"},{"ancestorTitles":["Jobs API - GET /v1/jobs/:id","Not Found"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - GET /v1/jobs/:id Not Found returns 404 for non-existent job","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232552,"status":"passed","title":"returns 404 for non-existent job"},{"ancestorTitles":["Jobs API - Error Handling","Authentication"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - Error Handling Authentication returns 401 without Authorization header","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232553,"status":"passed","title":"returns 401 without Authorization header"},{"ancestorTitles":["Jobs API - Error Handling","Authentication"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - Error Handling Authentication returns 401 with invalid token","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232553,"status":"passed","title":"returns 401 with invalid token"},{"ancestorTitles":["Jobs API - Error Handling","Validation"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Jobs API - Error Handling Validation returns 400 with validation errors and traceId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232554,"status":"passed","title":"returns 400 with validation errors and traceId"}],"endTime":1766360232559,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/__tests__/integration/jobs.test.ts","startTime":1766360232314,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Ops Agent & Proposals","Ops Service FSM"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Ops Service FSM should init state to profile_required if missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232533,"status":"passed","title":"should init state to profile_required if missing"},{"ancestorTitles":["Ops Agent & Proposals","Ops Service FSM"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Ops Service FSM should create proposal when in profile_required and user sends text","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232549,"status":"passed","title":"should create proposal when in profile_required and user sends text"},{"ancestorTitles":["Ops Agent & Proposals","Ops Service FSM"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Ops Service FSM should approve proposal on YES and advance step","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360232552,"status":"passed","title":"should approve proposal on YES and advance step"},{"ancestorTitles":["Ops Agent & Proposals","Ops Service FSM"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Ops Service FSM should reject proposal on NO and clear pending status","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232562,"status":"passed","title":"should reject proposal on NO and clear pending status"},{"ancestorTitles":["Ops Agent & Proposals","Ops Service FSM"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Ops Service FSM should be retry-safe when user sends YES twice (Idempotency)","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1766360232564,"status":"passed","title":"should be retry-safe when user sends YES twice (Idempotency)"},{"ancestorTitles":["Ops Agent & Proposals","Proposals Repository"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Proposals Repository should be idempotent (return existing proposal)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232575,"status":"passed","title":"should be idempotent (return existing proposal)"},{"ancestorTitles":["Ops Agent & Proposals","Proposals Repository"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Proposals Repository should fail apply if proposal not Proposed","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232576,"status":"passed","title":"should fail apply if proposal not Proposed"},{"ancestorTitles":["Ops Agent & Proposals","Catalog Multi-Item Loop (Step 2)"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Catalog Multi-Item Loop (Step 2) should parse items from text and accumulate","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232578,"status":"passed","title":"should parse items from text and accumulate"},{"ancestorTitles":["Ops Agent & Proposals","Catalog Multi-Item Loop (Step 2)"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Catalog Multi-Item Loop (Step 2) should return error when DONE with zero items","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232582,"status":"passed","title":"should return error when DONE with zero items"},{"ancestorTitles":["Ops Agent & Proposals","Catalog Multi-Item Loop (Step 2)"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Catalog Multi-Item Loop (Step 2) should handle SKIP and advance to availability step","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232583,"status":"passed","title":"should handle SKIP and advance to availability step"},{"ancestorTitles":["Ops Agent & Proposals","Catalog Multi-Item Loop (Step 2)"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Catalog Multi-Item Loop (Step 2) should return parse error for garbage text","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232589,"status":"passed","title":"should return parse error for garbage text"},{"ancestorTitles":["Ops Agent & Proposals","Catalog Multi-Item Loop (Step 2)"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Catalog Multi-Item Loop (Step 2) should handle media as draft item with needsReview","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232591,"status":"passed","title":"should handle media as draft item with needsReview"},{"ancestorTitles":["Ops Agent & Proposals","Availability Mode Selection (Step 3)"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Availability Mode Selection (Step 3) should present mode options when no selection made","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232593,"status":"passed","title":"should present mode options when no selection made"},{"ancestorTitles":["Ops Agent & Proposals","Availability Mode Selection (Step 3)"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Availability Mode Selection (Step 3) should create proposal when user selects mode by number","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232597,"status":"passed","title":"should create proposal when user selects mode by number"},{"ancestorTitles":["Ops Agent & Proposals","Availability Mode Selection (Step 3)"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Availability Mode Selection (Step 3) should create proposal when user selects mode by name","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232598,"status":"passed","title":"should create proposal when user selects mode by name"},{"ancestorTitles":["Ops Agent & Proposals","Review and Publish (Step 4)"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Review and Publish (Step 4) should show go-live summary with checklist","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360232600,"status":"passed","title":"should show go-live summary with checklist"},{"ancestorTitles":["Ops Agent & Proposals","Review and Publish (Step 4)"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Ops Agent & Proposals Review and Publish (Step 4) should advance to live_ops on YES approval","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232601,"status":"passed","title":"should advance to live_ops on YES approval"}],"endTime":1766360232607,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/services/domains/onboarding/onboarding.test.ts","startTime":1766360230841,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Bookings Schema"],"duration":116,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Schema validates a complete booking object","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360231990,"status":"passed","title":"validates a complete booking object"},{"ancestorTitles":["Bookings Schema"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Schema rejects booking without required userId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232107,"status":"passed","title":"rejects booking without required userId"},{"ancestorTitles":["Bookings Schema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Schema rejects booking without required itemTitle","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232109,"status":"passed","title":"rejects booking without required itemTitle"},{"ancestorTitles":["Bookings Schema"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Schema validates all booking types","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1766360232110,"status":"passed","title":"validates all booking types"},{"ancestorTitles":["Bookings Schema"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Schema validates all booking statuses","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1766360232117,"status":"passed","title":"validates all booking statuses"},{"ancestorTitles":["Bookings Schema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Schema validates CreateBookingInput requires type and itemTitle","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232121,"status":"passed","title":"validates CreateBookingInput requires type and itemTitle"},{"ancestorTitles":["Booking Status Transitions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Booking Status Transitions allows pending → confirmed","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232122,"status":"passed","title":"allows pending → confirmed"},{"ancestorTitles":["Booking Status Transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Booking Status Transitions allows pending → cancelled","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232123,"status":"passed","title":"allows pending → cancelled"},{"ancestorTitles":["Booking Status Transitions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Booking Status Transitions allows confirmed → completed","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232123,"status":"passed","title":"allows confirmed → completed"},{"ancestorTitles":["Booking Status Transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Booking Status Transitions allows confirmed → cancelled","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232124,"status":"passed","title":"allows confirmed → cancelled"},{"ancestorTitles":["Booking Status Transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Booking Status Transitions rejects pending → completed (must confirm first)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232125,"status":"passed","title":"rejects pending → completed (must confirm first)"},{"ancestorTitles":["Booking Status Transitions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Booking Status Transitions rejects completed → cancelled (terminal state)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232125,"status":"passed","title":"rejects completed → cancelled (terminal state)"},{"ancestorTitles":["Booking Status Transitions"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Booking Status Transitions rejects cancelled → anything (terminal state)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232125,"status":"passed","title":"rejects cancelled → anything (terminal state)"},{"ancestorTitles":["Booking Status Transitions"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Booking Status Transitions rejects confirmed → pending (no backward transitions)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232127,"status":"passed","title":"rejects confirmed → pending (no backward transitions)"},{"ancestorTitles":["Booking Status Transitions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Booking Status Transitions rejects completed → pending (no backward transitions)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232129,"status":"passed","title":"rejects completed → pending (no backward transitions)"},{"ancestorTitles":["BookingsService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsService Contract exposes getBooking method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232130,"status":"passed","title":"exposes getBooking method"},{"ancestorTitles":["BookingsService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsService Contract exposes createBooking method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232131,"status":"passed","title":"exposes createBooking method"},{"ancestorTitles":["BookingsService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsService Contract exposes getBookingsForUser method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232131,"status":"passed","title":"exposes getBookingsForUser method"},{"ancestorTitles":["BookingsService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsService Contract exposes updateBookingStatus method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232132,"status":"passed","title":"exposes updateBookingStatus method"},{"ancestorTitles":["BookingsService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsService Contract does NOT expose createRequest on BookingsService","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232132,"status":"passed","title":"does NOT expose createRequest on BookingsService"},{"ancestorTitles":["BookingsService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsService Contract does NOT expose createListing on BookingsService","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232133,"status":"passed","title":"does NOT expose createListing on BookingsService"},{"ancestorTitles":["BookingsService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsService Contract does NOT expose getUser on BookingsService","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232134,"status":"passed","title":"does NOT expose getUser on BookingsService"},{"ancestorTitles":["BookingsService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsService Contract does NOT expose checkIn on BookingsService","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232135,"status":"passed","title":"does NOT expose checkIn on BookingsService"},{"ancestorTitles":["BookingsService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsService Contract does NOT expose Firestore directly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232135,"status":"passed","title":"does NOT expose Firestore directly"},{"ancestorTitles":["BookingsController Contract"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsController Contract exposes getBooking method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232136,"status":"passed","title":"exposes getBooking method"},{"ancestorTitles":["BookingsController Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsController Contract exposes createBooking method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232149,"status":"passed","title":"exposes createBooking method"},{"ancestorTitles":["BookingsController Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsController Contract exposes confirmBooking method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232150,"status":"passed","title":"exposes confirmBooking method"},{"ancestorTitles":["BookingsController Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsController Contract exposes completeBooking method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232150,"status":"passed","title":"exposes completeBooking method"},{"ancestorTitles":["BookingsController Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsController Contract exposes cancelBooking method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232150,"status":"passed","title":"exposes cancelBooking method"},{"ancestorTitles":["BookingsController Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BookingsController Contract does NOT expose raw Firestore methods","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232151,"status":"passed","title":"does NOT expose raw Firestore methods"},{"ancestorTitles":["Bookings Permissions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Permissions allows authenticated user to create booking","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232152,"status":"passed","title":"allows authenticated user to create booking"},{"ancestorTitles":["Bookings Permissions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Permissions allows user to view their own booking","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232154,"status":"passed","title":"allows user to view their own booking"},{"ancestorTitles":["Bookings Permissions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Permissions allows admin to view any booking","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232154,"status":"passed","title":"allows admin to view any booking"},{"ancestorTitles":["Bookings Permissions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Permissions allows user to cancel their own booking","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232155,"status":"passed","title":"allows user to cancel their own booking"},{"ancestorTitles":["Bookings Permissions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Permissions allows admin to confirm any booking","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232155,"status":"passed","title":"allows admin to confirm any booking"},{"ancestorTitles":["Bookings Permissions"],"duration":2,"failing":false,"failureDetails":[{"message":"expect(received).resolves.not.toThrow()\n\nReceived promise rejected instead of resolved\nRejected to value: [AppError: Cannot complete a pending booking]"}],"failureMessages":["Error: expect(received).resolves.not.toThrow()\n\nReceived promise rejected instead of resolved\nRejected to value: [AppError: Cannot complete a pending booking]\n    at expect (/Users/apple_trnc/Downloads/easy-islanders/node_modules/.pnpm/expect@30.2.0/node_modules/expect/build/index.js:2116:15)\n    at Object.<anonymous> (/Users/apple_trnc/Downloads/easy-islanders/functions/src/modules/bookings/bookings.test.ts:327:15)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"fullName":"Bookings Permissions allows admin to complete any booking","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360232156,"status":"failed","title":"allows admin to complete any booking"},{"ancestorTitles":["Bookings Functions Exports"],"duration":420,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Functions Exports exports createBooking function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232181,"status":"passed","title":"exports createBooking function"},{"ancestorTitles":["Bookings Functions Exports"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Functions Exports exports getBooking function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232601,"status":"passed","title":"exports getBooking function"},{"ancestorTitles":["Bookings Functions Exports"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Functions Exports exports getMyBookings function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232601,"status":"passed","title":"exports getMyBookings function"},{"ancestorTitles":["Bookings Functions Exports"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Functions Exports exports confirmBooking function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232602,"status":"passed","title":"exports confirmBooking function"},{"ancestorTitles":["Bookings Functions Exports"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Functions Exports exports completeBooking function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232602,"status":"passed","title":"exports completeBooking function"},{"ancestorTitles":["Bookings Functions Exports"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Bookings Functions Exports exports cancelBooking function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232602,"status":"passed","title":"exports cancelBooking function"}],"endTime":1766360232689,"message":"  ● Bookings Permissions › allows admin to complete any booking\n\n    expect(received).resolves.not.toThrow()\n\n    Received promise rejected instead of resolved\n    Rejected to value: [AppError: Cannot complete a pending booking]\n\n      325 |         const ctx = { uid: \"admin123\", role: \"admin\" as const, isAdmin: true };\n      326 |\n    > 327 |         await expect(\n          |               ^\n      328 |             BookingsController.completeBooking(ctx, \"booking123\")\n      329 |         ).resolves.not.toThrow();\n      330 |     });\n\n      at expect (../node_modules/.pnpm/expect@30.2.0/node_modules/expect/build/index.js:2116:15)\n      at Object.<anonymous> (src/modules/bookings/bookings.test.ts:327:15)\n","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/modules/bookings/bookings.test.ts","startTime":1766360230834,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Connect Schema"],"duration":135,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Schema validates a complete check-in object","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360231991,"status":"passed","title":"validates a complete check-in object"},{"ancestorTitles":["Connect Schema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Schema rejects check-in without required pinId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232129,"status":"passed","title":"rejects check-in without required pinId"},{"ancestorTitles":["Connect Schema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Schema rejects check-in without expiresAt","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232131,"status":"passed","title":"rejects check-in without expiresAt"},{"ancestorTitles":["Connect Schema"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Schema validates all pin types","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360232132,"status":"passed","title":"validates all pin types"},{"ancestorTitles":["Connect Schema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Schema validates all activity types","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360232137,"status":"passed","title":"validates all activity types"},{"ancestorTitles":["Connect Schema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Schema validates join statuses","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232138,"status":"passed","title":"validates join statuses"},{"ancestorTitles":["Connect Schema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Schema validates a complete join object","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232138,"status":"passed","title":"validates a complete join object"},{"ancestorTitles":["Connect Schema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Schema validates CheckInInput requires pinId and pinType","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232139,"status":"passed","title":"validates CheckInInput requires pinId and pinType"},{"ancestorTitles":["Connect Schema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Schema validates JoinEventInput requires eventId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232141,"status":"passed","title":"validates JoinEventInput requires eventId"},{"ancestorTitles":["Connect Schema"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Schema validates LeaveEventInput requires eventId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232141,"status":"passed","title":"validates LeaveEventInput requires eventId"},{"ancestorTitles":["Connect Schema"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Schema validates FeedQuery with optional fields","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1766360232143,"status":"passed","title":"validates FeedQuery with optional fields"},{"ancestorTitles":["Connect Schema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Schema validates LiveVenuesQuery with optional fields","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232146,"status":"passed","title":"validates LiveVenuesQuery with optional fields"},{"ancestorTitles":["Connect Schema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Schema validates UpsertCurationInput","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232148,"status":"passed","title":"validates UpsertCurationInput"},{"ancestorTitles":["Check-in Expiry"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Check-in Expiry CHECKIN_EXPIRY_HOURS equals 4","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232149,"status":"passed","title":"CHECKIN_EXPIRY_HOURS equals 4"},{"ancestorTitles":["ConnectService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract exposes upsertCheckIn method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232149,"status":"passed","title":"exposes upsertCheckIn method"},{"ancestorTitles":["ConnectService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract exposes getActiveCheckIns method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232150,"status":"passed","title":"exposes getActiveCheckIns method"},{"ancestorTitles":["ConnectService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract exposes upsertJoinJoined method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232151,"status":"passed","title":"exposes upsertJoinJoined method"},{"ancestorTitles":["ConnectService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract exposes upsertJoinLeft method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232151,"status":"passed","title":"exposes upsertJoinLeft method"},{"ancestorTitles":["ConnectService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract exposes getActiveFeed method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232152,"status":"passed","title":"exposes getActiveFeed method"},{"ancestorTitles":["ConnectService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract exposes getLiveVenues method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232152,"status":"passed","title":"exposes getLiveVenues method"},{"ancestorTitles":["ConnectService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract exposes getCurationItems method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232152,"status":"passed","title":"exposes getCurationItems method"},{"ancestorTitles":["ConnectService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract exposes upsertCurationItem method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232153,"status":"passed","title":"exposes upsertCurationItem method"},{"ancestorTitles":["ConnectService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract does NOT expose createListing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232153,"status":"passed","title":"does NOT expose createListing"},{"ancestorTitles":["ConnectService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract does NOT expose updateListing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232154,"status":"passed","title":"does NOT expose updateListing"},{"ancestorTitles":["ConnectService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract does NOT expose approveListing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232154,"status":"passed","title":"does NOT expose approveListing"},{"ancestorTitles":["ConnectService Contract"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract does NOT expose getUser","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232155,"status":"passed","title":"does NOT expose getUser"},{"ancestorTitles":["ConnectService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract does NOT expose updateProfile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232158,"status":"passed","title":"does NOT expose updateProfile"},{"ancestorTitles":["ConnectService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract does NOT expose createRequest","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232158,"status":"passed","title":"does NOT expose createRequest"},{"ancestorTitles":["ConnectService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract does NOT expose updateRequestStatus","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232158,"status":"passed","title":"does NOT expose updateRequestStatus"},{"ancestorTitles":["ConnectService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract does NOT expose createBooking","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232159,"status":"passed","title":"does NOT expose createBooking"},{"ancestorTitles":["ConnectService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract does NOT expose confirmBooking","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232159,"status":"passed","title":"does NOT expose confirmBooking"},{"ancestorTitles":["ConnectService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectService Contract does NOT expose Firestore directly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232159,"status":"passed","title":"does NOT expose Firestore directly"},{"ancestorTitles":["ConnectController Contract"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectController Contract exposes checkIn method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232160,"status":"passed","title":"exposes checkIn method"},{"ancestorTitles":["ConnectController Contract"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectController Contract exposes joinEvent method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232176,"status":"passed","title":"exposes joinEvent method"},{"ancestorTitles":["ConnectController Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectController Contract exposes leaveEvent method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232178,"status":"passed","title":"exposes leaveEvent method"},{"ancestorTitles":["ConnectController Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectController Contract exposes getActiveFeed method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232178,"status":"passed","title":"exposes getActiveFeed method"},{"ancestorTitles":["ConnectController Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectController Contract exposes getLiveVenues method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232179,"status":"passed","title":"exposes getLiveVenues method"},{"ancestorTitles":["ConnectController Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectController Contract exposes getCurationItems method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232179,"status":"passed","title":"exposes getCurationItems method"},{"ancestorTitles":["ConnectController Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectController Contract exposes upsertCurationItem method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232180,"status":"passed","title":"exposes upsertCurationItem method"},{"ancestorTitles":["ConnectController Contract"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ConnectController Contract does NOT expose raw Firestore methods","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232180,"status":"passed","title":"does NOT expose raw Firestore methods"},{"ancestorTitles":["Connect Permissions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Permissions allows authenticated user to check in","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232182,"status":"passed","title":"allows authenticated user to check in"},{"ancestorTitles":["Connect Permissions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Permissions allows authenticated user to join event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232183,"status":"passed","title":"allows authenticated user to join event"},{"ancestorTitles":["Connect Permissions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Permissions allows authenticated user to leave event","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232184,"status":"passed","title":"allows authenticated user to leave event"},{"ancestorTitles":["Connect Permissions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Permissions allows authenticated user to get active feed","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232185,"status":"passed","title":"allows authenticated user to get active feed"},{"ancestorTitles":["Connect Permissions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Permissions allows authenticated user to get live venues","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232185,"status":"passed","title":"allows authenticated user to get live venues"},{"ancestorTitles":["Connect Permissions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Permissions allows authenticated user to get curation items","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232186,"status":"passed","title":"allows authenticated user to get curation items"},{"ancestorTitles":["Connect Permissions"],"duration":68,"failing":false,"failureDetails":[{"matcherResult":{"message":"expect(received).rejects.toThrow(expected)\n\nExpected substring: \"PERMISSION_DENIED\"\nReceived message:   \"Only admins can manage curation\"\n\n      171 |         // Permission check: admin only\n      172 |         if (!isAdmin(ctx)) {\n    > 173 |             throw new AppError(\"PERMISSION_DENIED\", \"Only admins can manage curation\");\n          |                   ^\n      174 |         }\n      175 |\n      176 |         // Validate input\n\n      at Object.upsertCurationItem (src/modules/connect/connect.controller.ts:173:19)\n      at Object.<anonymous> (src/modules/connect/connect.test.ts:420:31)","pass":false},"message":"expect(received).rejects.toThrow(expected)\n\nExpected substring: \"PERMISSION_DENIED\"\nReceived message:   \"Only admins can manage curation\"\n\n      171 |         // Permission check: admin only\n      172 |         if (!isAdmin(ctx)) {\n    > 173 |             throw new AppError(\"PERMISSION_DENIED\", \"Only admins can manage curation\");\n          |                   ^\n      174 |         }\n      175 |\n      176 |         // Validate input\n\n      at Object.upsertCurationItem (src/modules/connect/connect.controller.ts:173:19)\n      at Object.<anonymous> (src/modules/connect/connect.test.ts:420:31)"}],"failureMessages":["Error: expect(received).rejects.toThrow(expected)\n\nExpected substring: \"PERMISSION_DENIED\"\nReceived message:   \"Only admins can manage curation\"\n\n      171 |         // Permission check: admin only\n      172 |         if (!isAdmin(ctx)) {\n    > 173 |             throw new AppError(\"PERMISSION_DENIED\", \"Only admins can manage curation\");\n          |                   ^\n      174 |         }\n      175 |\n      176 |         // Validate input\n\n      at Object.upsertCurationItem (src/modules/connect/connect.controller.ts:173:19)\n      at Object.<anonymous> (src/modules/connect/connect.test.ts:420:31)\n    at Object.toThrow (/Users/apple_trnc/Downloads/easy-islanders/node_modules/.pnpm/expect@30.2.0/node_modules/expect/build/index.js:2155:20)\n    at Object.<anonymous> (/Users/apple_trnc/Downloads/easy-islanders/functions/src/modules/connect/connect.test.ts:421:19)\n    at processTicksAndRejections (node:internal/process/task_queues:103:5)"],"fullName":"Connect Permissions denies non-admin from upserting curation item","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360232186,"status":"failed","title":"denies non-admin from upserting curation item"},{"ancestorTitles":["Connect Permissions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Permissions allows admin to upsert curation item","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232256,"status":"passed","title":"allows admin to upsert curation item"},{"ancestorTitles":["Connect Permissions"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Permissions allows provider to check in","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232258,"status":"passed","title":"allows provider to check in"},{"ancestorTitles":["Connect Functions Exports"],"duration":450,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Functions Exports exports checkIn function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232258,"status":"passed","title":"exports checkIn function"},{"ancestorTitles":["Connect Functions Exports"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Functions Exports exports joinEvent function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232709,"status":"passed","title":"exports joinEvent function"},{"ancestorTitles":["Connect Functions Exports"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Functions Exports exports leaveEvent function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232711,"status":"passed","title":"exports leaveEvent function"},{"ancestorTitles":["Connect Functions Exports"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Functions Exports exports getActiveFeed function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232712,"status":"passed","title":"exports getActiveFeed function"},{"ancestorTitles":["Connect Functions Exports"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Functions Exports exports getLiveVenues function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232713,"status":"passed","title":"exports getLiveVenues function"},{"ancestorTitles":["Connect Functions Exports"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Functions Exports exports getCurationItems function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232713,"status":"passed","title":"exports getCurationItems function"},{"ancestorTitles":["Connect Functions Exports"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Connect Functions Exports exports upsertCurationItem function","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232714,"status":"passed","title":"exports upsertCurationItem function"}],"endTime":1766360232754,"message":"  ● Connect Permissions › denies non-admin from upserting curation item\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"PERMISSION_DENIED\"\n    Received message:   \"Only admins can manage curation\"\n\n          171 |         // Permission check: admin only\n          172 |         if (!isAdmin(ctx)) {\n        > 173 |             throw new AppError(\"PERMISSION_DENIED\", \"Only admins can manage curation\");\n              |                   ^\n          174 |         }\n          175 |\n          176 |         // Validate input\n\n      at Object.upsertCurationItem (src/modules/connect/connect.controller.ts:173:19)\n      at Object.<anonymous> (src/modules/connect/connect.test.ts:420:31)\n      at Object.toThrow (../node_modules/.pnpm/expect@30.2.0/node_modules/expect/build/index.js:2155:20)\n      at Object.<anonymous> (src/modules/connect/connect.test.ts:421:19)\n","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/modules/connect/connect.test.ts","startTime":1766360230832,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Catalog Parser","parseItemsFromText"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Parser parseItemsFromText parses \"Burger €12, Fries €4\" to 2 items","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233016,"status":"passed","title":"parses \"Burger €12, Fries €4\" to 2 items"},{"ancestorTitles":["Catalog Parser","parseItemsFromText"],"duration":22,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Parser parseItemsFromText parses \"Burger 12€\\nFries 4€\" to 2 items","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233026,"status":"passed","title":"parses \"Burger 12€\\nFries 4€\" to 2 items"},{"ancestorTitles":["Catalog Parser","parseItemsFromText"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Parser parseItemsFromText parses \"Coke 2.50 EUR\" to 1 item","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233049,"status":"passed","title":"parses \"Coke 2.50 EUR\" to 1 item"},{"ancestorTitles":["Catalog Parser","parseItemsFromText"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Parser parseItemsFromText parses \"Pizza ₺250\" to 1 TRY item","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233054,"status":"passed","title":"parses \"Pizza ₺250\" to 1 TRY item"},{"ancestorTitles":["Catalog Parser","parseItemsFromText"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Parser parseItemsFromText returns empty array for garbage text","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233057,"status":"passed","title":"returns empty array for garbage text"},{"ancestorTitles":["Catalog Parser","parseItemsFromText"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Parser parseItemsFromText limits to 10 items per message","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233058,"status":"passed","title":"limits to 10 items per message"},{"ancestorTitles":["Catalog Parser","normalizeItemName"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Parser normalizeItemName normalizes \"  Burger King  \" to \"burger king\"","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233060,"status":"passed","title":"normalizes \"  Burger King  \" to \"burger king\""},{"ancestorTitles":["Catalog Parser","normalizeItemName"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Catalog Parser normalizeItemName removes special characters","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233062,"status":"passed","title":"removes special characters"}],"endTime":1766360233065,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/services/domains/onboarding/catalog.parser.test.ts","startTime":1766360232737,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Taxonomy Enums","IndustryDomain"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxonomy Enums IndustryDomain should have 12 industry domains","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233130,"status":"passed","title":"should have 12 industry domains"},{"ancestorTitles":["Taxonomy Enums","IndustryDomain"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxonomy Enums IndustryDomain should include expected domains","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360233134,"status":"passed","title":"should include expected domains"},{"ancestorTitles":["Taxonomy Enums","IndustryDomain"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxonomy Enums IndustryDomain should validate valid domain","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233136,"status":"passed","title":"should validate valid domain"},{"ancestorTitles":["Taxonomy Enums","IndustryDomain"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxonomy Enums IndustryDomain should reject invalid domain","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233138,"status":"passed","title":"should reject invalid domain"},{"ancestorTitles":["Taxonomy Enums","OfferingType validation"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxonomy Enums OfferingType validation should validate product and service","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233138,"status":"passed","title":"should validate product and service"},{"ancestorTitles":["Taxonomy Enums","OfferingType validation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxonomy Enums OfferingType validation should reject invalid types","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233140,"status":"passed","title":"should reject invalid types"},{"ancestorTitles":["Taxonomy Enums","ActionType validation"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxonomy Enums ActionType validation should validate buy, book, visit","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233141,"status":"passed","title":"should validate buy, book, visit"},{"ancestorTitles":["Taxonomy Enums","ActionType validation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxonomy Enums ActionType validation should reject invalid actions","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233141,"status":"passed","title":"should reject invalid actions"},{"ancestorTitles":["Taxonomy Enums","EntityType validation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxonomy Enums EntityType validation should validate place, stay, activity","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233142,"status":"passed","title":"should validate place, stay, activity"},{"ancestorTitles":["Taxonomy Enums","PriceType validation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxonomy Enums PriceType validation should validate fixed, from, free","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233143,"status":"passed","title":"should validate fixed, from, free"},{"ancestorTitles":["Taxonomy Enums","Currency validation"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxonomy Enums Currency validation should validate TRY, GBP, EUR, USD","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360233145,"status":"passed","title":"should validate TRY, GBP, EUR, USD"},{"ancestorTitles":["Taxonomy Enums","Currency validation"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxonomy Enums Currency validation should reject invalid currency","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233146,"status":"passed","title":"should reject invalid currency"},{"ancestorTitles":["Industry Defaults","TAXONOMY_VERSION"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults TAXONOMY_VERSION should be nc_v1","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233147,"status":"passed","title":"should be nc_v1"},{"ancestorTitles":["Industry Defaults","getAllIndustries"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults getAllIndustries should return 12 industries","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233147,"status":"passed","title":"should return 12 industries"},{"ancestorTitles":["Industry Defaults","getAllIndustries"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults getAllIndustries should include food and beauty","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233149,"status":"passed","title":"should include food and beauty"},{"ancestorTitles":["Industry Defaults","getIndustryDefaults"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults getIndustryDefaults should return defaults for food","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360233150,"status":"passed","title":"should return defaults for food"},{"ancestorTitles":["Industry Defaults","getIndustryDefaults"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults getIndustryDefaults should return defaults for beauty","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233152,"status":"passed","title":"should return defaults for beauty"},{"ancestorTitles":["Industry Defaults","getIndustryDefaults"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults getIndustryDefaults should return defaults for attractions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233152,"status":"passed","title":"should return defaults for attractions"},{"ancestorTitles":["Industry Defaults","getDefaultOfferingType"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults getDefaultOfferingType should return product for food","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233154,"status":"passed","title":"should return product for food"},{"ancestorTitles":["Industry Defaults","getDefaultOfferingType"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults getDefaultOfferingType should return service for beauty","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233154,"status":"passed","title":"should return service for beauty"},{"ancestorTitles":["Industry Defaults","getDefaultOfferingType"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults getDefaultOfferingType should return rental for hospitality","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233155,"status":"passed","title":"should return rental for hospitality"},{"ancestorTitles":["Industry Defaults","getDefaultActionType"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults getDefaultActionType should return buy for food","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233155,"status":"passed","title":"should return buy for food"},{"ancestorTitles":["Industry Defaults","getDefaultActionType"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults getDefaultActionType should return book for beauty","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233155,"status":"passed","title":"should return book for beauty"},{"ancestorTitles":["Industry Defaults","getDefaultActionType"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults getDefaultActionType should return visit for attractions","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233156,"status":"passed","title":"should return visit for attractions"},{"ancestorTitles":["Industry Defaults","getDefaultActionType"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults getDefaultActionType should return quote for professional","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233156,"status":"passed","title":"should return quote for professional"},{"ancestorTitles":["Industry Defaults","isValidIndustry"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults isValidIndustry should return true for valid industries","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233156,"status":"passed","title":"should return true for valid industries"},{"ancestorTitles":["Industry Defaults","isValidIndustry"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults isValidIndustry should return false for invalid industries","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233157,"status":"passed","title":"should return false for invalid industries"},{"ancestorTitles":["Industry Defaults","Industry consistency"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults Industry consistency all industries should have required fields","invocations":1,"location":null,"numPassingAsserts":60,"retryReasons":[],"startAt":1766360233157,"status":"passed","title":"all industries should have required fields"},{"ancestorTitles":["Industry Defaults","Industry consistency"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Industry Defaults Industry consistency all industries should have valid enum values","invocations":1,"location":null,"numPassingAsserts":36,"retryReasons":[],"startAt":1766360233164,"status":"passed","title":"all industries should have valid enum values"}],"endTime":1766360233171,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/taxonomy/taxonomy.test.ts","startTime":1766360232824,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Business Repository","getById"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Business Repository getById should return business when found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233167,"status":"passed","title":"should return business when found"},{"ancestorTitles":["Business Repository","getById"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Business Repository getById should return null when not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233176,"status":"passed","title":"should return null when not found"},{"ancestorTitles":["Business Repository","getByOwnerUid"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Business Repository getByOwnerUid should return business owned by user","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233181,"status":"passed","title":"should return business owned by user"},{"ancestorTitles":["Business Repository","getByOwnerUid"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Business Repository getByOwnerUid should return null when user owns no business","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233184,"status":"passed","title":"should return null when user owns no business"},{"ancestorTitles":["Business Repository","startClaim"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Business Repository startClaim should successfully start claim for unclaimed business","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233187,"status":"passed","title":"should successfully start claim for unclaimed business"},{"ancestorTitles":["Business Repository","startClaim"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Business Repository startClaim should reject claim for already claimed business","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233190,"status":"passed","title":"should reject claim for already claimed business"},{"ancestorTitles":["Business Repository","startClaim"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Business Repository startClaim should reject claim for inactive business","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233192,"status":"passed","title":"should reject claim for inactive business"},{"ancestorTitles":["Business Repository","startClaim"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Business Repository startClaim should reject claim when another user has pending claim","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233192,"status":"passed","title":"should reject claim when another user has pending claim"},{"ancestorTitles":["Business Repository","startClaim"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Business Repository startClaim should allow claim when pending claim has expired","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233194,"status":"passed","title":"should allow claim when pending claim has expired"},{"ancestorTitles":["Business Repository","isMember"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Business Repository isMember should return true for active member","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233195,"status":"passed","title":"should return true for active member"},{"ancestorTitles":["Business Repository","isMember"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Business Repository isMember should return false for non-member","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233197,"status":"passed","title":"should return false for non-member"}],"endTime":1766360233199,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/repositories/business.repository.test.ts","startTime":1766360232585,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Payment Service","createPaymentIntent"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Payment Service createPaymentIntent should create payment intent for valid booking","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233196,"status":"pending","title":"should create payment intent for valid booking"},{"ancestorTitles":["Payment Service","createPaymentIntent"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Payment Service createPaymentIntent should throw error if booking does not exist","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233196,"status":"pending","title":"should throw error if booking does not exist"},{"ancestorTitles":["Payment Service","createPaymentIntent"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Payment Service createPaymentIntent should throw error if user is not owner","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233196,"status":"pending","title":"should throw error if user is not owner"},{"ancestorTitles":["Payment Service","createPaymentIntent"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Payment Service createPaymentIntent should throw error if booking is already paid","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233196,"status":"pending","title":"should throw error if booking is already paid"},{"ancestorTitles":["Payment Service","handleWebhook"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Payment Service handleWebhook should process payment_intent.succeeded event","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233196,"status":"pending","title":"should process payment_intent.succeeded event"},{"ancestorTitles":["Payment Service","handleWebhook"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Payment Service handleWebhook should throw error on invalid signature","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233196,"status":"pending","title":"should throw error on invalid signature"},{"ancestorTitles":["Payment Service","handleWebhook"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Payment Service handleWebhook should ignore other event types","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233196,"status":"pending","title":"should ignore other event types"}],"coverage":{},"endTime":1766360234705,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/services/domains/billing/__tests__/payment.service.test.ts","startTime":1766360234705,"status":"skipped","summary":""},{"assertionResults":[{"ancestorTitles":["Messaging Schema"],"duration":93,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Schema validates InboundReceipt with required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360231948,"status":"passed","title":"validates InboundReceipt with required fields"},{"ancestorTitles":["Messaging Schema"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Schema rejects InboundReceipt without messageSid","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232042,"status":"passed","title":"rejects InboundReceipt without messageSid"},{"ancestorTitles":["Messaging Schema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Schema validates OutboundMessage with required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232046,"status":"passed","title":"validates OutboundMessage with required fields"},{"ancestorTitles":["Messaging Schema"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Schema validates all InboundStatus values","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1766360232047,"status":"passed","title":"validates all InboundStatus values"},{"ancestorTitles":["Messaging Schema"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Schema validates all DeliveryStatus values","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"startAt":1766360232058,"status":"passed","title":"validates all DeliveryStatus values"},{"ancestorTitles":["Messaging Schema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Schema validates MessageCorrelation with thread correlation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232065,"status":"passed","title":"validates MessageCorrelation with thread correlation"},{"ancestorTitles":["Messaging Schema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Schema validates SendMessageInput","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232066,"status":"passed","title":"validates SendMessageInput"},{"ancestorTitles":["Messaging Helpers"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Helpers derives deterministic idempotency key","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232067,"status":"passed","title":"derives deterministic idempotency key"},{"ancestorTitles":["Messaging Helpers"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Helpers maps Twilio status correctly","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"startAt":1766360232069,"status":"passed","title":"maps Twilio status correctly"},{"ancestorTitles":["Messaging Helpers"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Helpers identifies terminal statuses","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1766360232070,"status":"passed","title":"identifies terminal statuses"},{"ancestorTitles":["MessagingService Contract"],"duration":632,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MessagingService Contract exposes inbound receipt methods","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1766360232072,"status":"passed","title":"exposes inbound receipt methods"},{"ancestorTitles":["MessagingService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MessagingService Contract exposes outbound message methods","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1766360232704,"status":"passed","title":"exposes outbound message methods"},{"ancestorTitles":["MessagingService Contract"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MessagingService Contract exposes correlation methods","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232705,"status":"passed","title":"exposes correlation methods"},{"ancestorTitles":["MessagingService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MessagingService Contract does NOT expose forbidden writes","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360232707,"status":"passed","title":"does NOT expose forbidden writes"},{"ancestorTitles":["MessagingController Contract"],"duration":437,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MessagingController Contract exposes webhook handlers","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232708,"status":"passed","title":"exposes webhook handlers"},{"ancestorTitles":["MessagingController Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MessagingController Contract exposes task processor","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233146,"status":"passed","title":"exposes task processor"},{"ancestorTitles":["MessagingController Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MessagingController Contract exposes idempotent send","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233146,"status":"passed","title":"exposes idempotent send"},{"ancestorTitles":["Messaging Functions Exports"],"duration":58,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Functions Exports exports twilioInboundWebhook","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233147,"status":"passed","title":"exports twilioInboundWebhook"},{"ancestorTitles":["Messaging Functions Exports"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Functions Exports exports twilioStatusWebhook","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233205,"status":"passed","title":"exports twilioStatusWebhook"},{"ancestorTitles":["Messaging Functions Exports"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Functions Exports exports processWhatsAppInbound","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233205,"status":"passed","title":"exports processWhatsAppInbound"},{"ancestorTitles":["Messaging Module Boundaries"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Module Boundaries does NOT export Firestore directly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233207,"status":"passed","title":"does NOT export Firestore directly"},{"ancestorTitles":["Messaging Module Boundaries"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Messaging Module Boundaries schema has NO Firebase imports","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233211,"status":"passed","title":"schema has NO Firebase imports"}],"endTime":1766360233215,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/modules/messaging/messaging.contract.test.ts","startTime":1766360230851,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Notifications Schema"],"duration":42,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notifications Schema validates NotificationRecord with required fields","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232416,"status":"passed","title":"validates NotificationRecord with required fields"},{"ancestorTitles":["Notifications Schema"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notifications Schema rejects NotificationRecord without userId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232459,"status":"passed","title":"rejects NotificationRecord without userId"},{"ancestorTitles":["Notifications Schema"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notifications Schema validates all NotificationType values","invocations":1,"location":null,"numPassingAsserts":11,"retryReasons":[],"startAt":1766360232463,"status":"passed","title":"validates all NotificationType values"},{"ancestorTitles":["Notifications Schema"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notifications Schema validates all NotificationChannel values","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1766360232466,"status":"passed","title":"validates all NotificationChannel values"},{"ancestorTitles":["Notifications Schema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notifications Schema validates ChannelDeliveryRecord","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360232468,"status":"passed","title":"validates ChannelDeliveryRecord"},{"ancestorTitles":["Notifications Schema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notifications Schema validates CreateNotificationInput","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232469,"status":"passed","title":"validates CreateNotificationInput"},{"ancestorTitles":["Notifications Helpers"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notifications Helpers derives deterministic idempotency key","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360232470,"status":"passed","title":"derives deterministic idempotency key"},{"ancestorTitles":["Notifications Helpers"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notifications Helpers returns default channel priority","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360232471,"status":"passed","title":"returns default channel priority"},{"ancestorTitles":["Notifications Helpers"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notifications Helpers identifies high priority notification types","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1766360232473,"status":"passed","title":"identifies high priority notification types"},{"ancestorTitles":["NotificationsService Contract"],"duration":671,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationsService Contract exposes idempotency methods","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360232478,"status":"passed","title":"exposes idempotency methods"},{"ancestorTitles":["NotificationsService Contract"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationsService Contract exposes CRUD methods","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1766360233149,"status":"passed","title":"exposes CRUD methods"},{"ancestorTitles":["NotificationsService Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationsService Contract does NOT expose forbidden writes","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233153,"status":"passed","title":"does NOT expose forbidden writes"},{"ancestorTitles":["NotificationsController Contract"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationsController Contract exposes createAndSend method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233153,"status":"passed","title":"exposes createAndSend method"},{"ancestorTitles":["NotificationsController Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationsController Contract exposes user query methods","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233167,"status":"passed","title":"exposes user query methods"},{"ancestorTitles":["Notifications Functions Exports"],"duration":55,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notifications Functions Exports exports getMyNotifications","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233168,"status":"passed","title":"exports getMyNotifications"},{"ancestorTitles":["Notifications Functions Exports"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notifications Functions Exports exports markNotificationRead","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233223,"status":"passed","title":"exports markNotificationRead"},{"ancestorTitles":["Notifications Functions Exports"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notifications Functions Exports exports getUnreadNotificationCount","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233225,"status":"passed","title":"exports getUnreadNotificationCount"},{"ancestorTitles":["Notifications Module Boundaries"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notifications Module Boundaries does NOT export Firestore directly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233226,"status":"passed","title":"does NOT export Firestore directly"},{"ancestorTitles":["Notifications Module Boundaries"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Notifications Module Boundaries schema has NO Firebase imports","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233228,"status":"passed","title":"schema has NO Firebase imports"}],"endTime":1766360233232,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/modules/notifications/notifications.contract.test.ts","startTime":1766360232211,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["requireBusinessMatch"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireBusinessMatch returns 403 when businessId mismatches claim (params)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233288,"status":"passed","title":"returns 403 when businessId mismatches claim (params)"},{"ancestorTitles":["requireBusinessMatch"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireBusinessMatch returns 403 when businessId mismatches claim (body)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233296,"status":"passed","title":"returns 403 when businessId mismatches claim (body)"},{"ancestorTitles":["requireBusinessMatch"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"requireBusinessMatch calls next when businessId matches claim","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233297,"status":"passed","title":"calls next when businessId matches claim"}],"endTime":1766360233300,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/middleware/requireBusinessMatch.test.ts","startTime":1766360233080,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["traceId.middleware","traceIdMiddleware"],"duration":30,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"traceId.middleware traceIdMiddleware should generate traceId when not provided","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233406,"status":"passed","title":"should generate traceId when not provided"},{"ancestorTitles":["traceId.middleware","traceIdMiddleware"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"traceId.middleware traceIdMiddleware should use existing traceId from header","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233437,"status":"passed","title":"should use existing traceId from header"},{"ancestorTitles":["traceId.middleware","traceIdMiddleware"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"traceId.middleware traceIdMiddleware should set response header with traceId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233438,"status":"passed","title":"should set response header with traceId"},{"ancestorTitles":["traceId.middleware","getTraceId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"traceId.middleware getTraceId should return traceId from request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233442,"status":"passed","title":"should return traceId from request"},{"ancestorTitles":["traceId.middleware","getTraceId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"traceId.middleware getTraceId should return fallback when traceId missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233442,"status":"passed","title":"should return fallback when traceId missing"},{"ancestorTitles":["traceId.middleware","withTraceContext"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"traceId.middleware withTraceContext should add traceId to context object","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233444,"status":"passed","title":"should add traceId to context object"}],"endTime":1766360233447,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/middleware/__tests__/traceId.middleware.test.ts","startTime":1766360233191,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Twilio Webhook Controller","Signature Verification (Security Critical)"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Twilio Webhook Controller Signature Verification (Security Critical) should reject requests with missing signature","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233417,"status":"passed","title":"should reject requests with missing signature"},{"ancestorTitles":["Twilio Webhook Controller","Signature Verification (Security Critical)"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Twilio Webhook Controller Signature Verification (Security Critical) should reject requests with invalid signature","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233424,"status":"passed","title":"should reject requests with invalid signature"},{"ancestorTitles":["Twilio Webhook Controller","Signature Verification (Security Critical)"],"duration":41,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Twilio Webhook Controller Signature Verification (Security Critical) should return 500 if TWILIO_AUTH_TOKEN is not configured","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233425,"status":"passed","title":"should return 500 if TWILIO_AUTH_TOKEN is not configured"},{"ancestorTitles":["Twilio Webhook Controller","Signature Verification (Security Critical)"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Twilio Webhook Controller Signature Verification (Security Critical) should process valid request with correct signature","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233466,"status":"passed","title":"should process valid request with correct signature"},{"ancestorTitles":["Twilio Webhook Controller","handleIncomingWhatsApp"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Twilio Webhook Controller handleIncomingWhatsApp should reject messages without MessageSid","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233472,"status":"passed","title":"should reject messages without MessageSid"},{"ancestorTitles":["Twilio Webhook Controller","handleIncomingWhatsApp"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Twilio Webhook Controller handleIncomingWhatsApp should return 200 for duplicate messages","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233474,"status":"passed","title":"should return 200 for duplicate messages"},{"ancestorTitles":["Twilio Webhook Controller","handleMessageStatus"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Twilio Webhook Controller handleMessageStatus should log status update to Firestore","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233476,"status":"passed","title":"should log status update to Firestore"},{"ancestorTitles":["Twilio Webhook Controller","handleMessageStatus"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Twilio Webhook Controller handleMessageStatus should reject invalid signature","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233483,"status":"passed","title":"should reject invalid signature"}],"endTime":1766360233486,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/controllers/__tests__/twilio.controller.test.ts","startTime":1766360233233,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Unified Orchestrator","processInbound"],"duration":33,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Unified Orchestrator processInbound should handle confirmation YES correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233375,"status":"passed","title":"should handle confirmation YES correctly"},{"ancestorTitles":["Unified Orchestrator","processInbound"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Unified Orchestrator processInbound should handle confirmation NO correctly","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360233409,"status":"passed","title":"should handle confirmation NO correctly"},{"ancestorTitles":["Unified Orchestrator","processInbound"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Unified Orchestrator processInbound should route general thread to Merve agent","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233420,"status":"passed","title":"should route general thread to Merve agent"}],"endTime":1766360233440,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/services/orchestrator/unified.service.test.ts","startTime":1766360231069,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Search Tools","searchMarketplace"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchMarketplace should return formatted results from Typesense","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233416,"status":"passed","title":"should return formatted results from Typesense"},{"ancestorTitles":["Search Tools","searchMarketplace"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchMarketplace should extract metadata fields into top-level properties","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233425,"status":"passed","title":"should extract metadata fields into top-level properties"},{"ancestorTitles":["Search Tools","searchMarketplace"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchMarketplace should pass all filter parameters to Typesense","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233426,"status":"passed","title":"should pass all filter parameters to Typesense"},{"ancestorTitles":["Search Tools","searchMarketplace"],"duration":60,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchMarketplace should return empty array when Typesense fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233429,"status":"passed","title":"should return empty array when Typesense fails"},{"ancestorTitles":["Search Tools","searchMarketplace"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchMarketplace should use wildcard query when no query provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233489,"status":"passed","title":"should use wildcard query when no query provided"},{"ancestorTitles":["Search Tools","searchLocalPlaces"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchLocalPlaces should return formatted results from Mapbox","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233490,"status":"passed","title":"should return formatted results from Mapbox"},{"ancestorTitles":["Search Tools","searchLocalPlaces"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchLocalPlaces should include coordinates from Mapbox center","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233492,"status":"passed","title":"should include coordinates from Mapbox center"},{"ancestorTitles":["Search Tools","searchLocalPlaces"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchLocalPlaces should combine query and location for better accuracy","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233492,"status":"passed","title":"should combine query and location for better accuracy"},{"ancestorTitles":["Search Tools","searchLocalPlaces"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchLocalPlaces should return empty array when Mapbox fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233493,"status":"passed","title":"should return empty array when Mapbox fails"},{"ancestorTitles":["Search Tools","searchEvents"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchEvents should search for events in the Events domain","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233498,"status":"passed","title":"should search for events in the Events domain"},{"ancestorTitles":["Search Tools","searchEvents"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchEvents should include location filter when provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233499,"status":"passed","title":"should include location filter when provided"},{"ancestorTitles":["Search Tools","searchEvents"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchEvents should return empty array on failure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233503,"status":"passed","title":"should return empty array on failure"},{"ancestorTitles":["Search Tools","searchHousingListings"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchHousingListings should search with housing-specific filters","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233506,"status":"passed","title":"should search with housing-specific filters"},{"ancestorTitles":["Search Tools","searchPlaces"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchPlaces should try Typesense first for curated places","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233507,"status":"passed","title":"should try Typesense first for curated places"},{"ancestorTitles":["Search Tools","searchPlaces"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchPlaces should fallback to Mapbox when Typesense returns no results","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233508,"status":"passed","title":"should fallback to Mapbox when Typesense returns no results"},{"ancestorTitles":["Search Tools","searchPlaces"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Search Tools searchPlaces should fallback to Mapbox when Typesense fails","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233508,"status":"passed","title":"should fallback to Mapbox when Typesense fails"}],"endTime":1766360233513,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/services/tools/__tests__/search.tools.test.ts","startTime":1766360233221,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Identity Schema"],"duration":45,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Identity Schema validates a complete user object","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233514,"status":"passed","title":"validates a complete user object"},{"ancestorTitles":["Identity Schema"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Identity Schema rejects user without required email","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233560,"status":"passed","title":"rejects user without required email"},{"ancestorTitles":["Identity Schema"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Identity Schema rejects user without required phone","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233563,"status":"passed","title":"rejects user without required phone"},{"ancestorTitles":["Identity Schema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Identity Schema rejects user without required address","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233565,"status":"passed","title":"rejects user without required address"},{"ancestorTitles":["Identity Schema"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Identity Schema validates all role types","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1766360233566,"status":"passed","title":"validates all role types"},{"ancestorTitles":["IdentityService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"IdentityService Contract exposes getUser method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233572,"status":"passed","title":"exposes getUser method"},{"ancestorTitles":["IdentityService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"IdentityService Contract exposes createUser method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233573,"status":"passed","title":"exposes createUser method"},{"ancestorTitles":["IdentityService Contract"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"IdentityService Contract exposes updateUser method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233574,"status":"passed","title":"exposes updateUser method"},{"ancestorTitles":["IdentityService Contract"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"IdentityService Contract does NOT expose Firestore directly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233578,"status":"passed","title":"does NOT expose Firestore directly"},{"ancestorTitles":["IdentityService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"IdentityService Contract does NOT expose catalog methods","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233580,"status":"passed","title":"does NOT expose catalog methods"},{"ancestorTitles":["IdentityService Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"IdentityService Contract does NOT expose booking methods","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233581,"status":"passed","title":"does NOT expose booking methods"},{"ancestorTitles":["IdentityController Contract"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"IdentityController Contract exposes getUser method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233582,"status":"passed","title":"exposes getUser method"},{"ancestorTitles":["IdentityController Contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"IdentityController Contract exposes updateProfile method","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233587,"status":"passed","title":"exposes updateProfile method"},{"ancestorTitles":["IdentityController Contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"IdentityController Contract does NOT expose raw Firestore methods","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233587,"status":"passed","title":"does NOT expose raw Firestore methods"},{"ancestorTitles":["Identity Permissions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Identity Permissions allows user to get own profile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233588,"status":"passed","title":"allows user to get own profile"},{"ancestorTitles":["Identity Permissions"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Identity Permissions denies user from getting another user profile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233589,"status":"passed","title":"denies user from getting another user profile"},{"ancestorTitles":["Identity Permissions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Identity Permissions allows admin to get any user profile","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233597,"status":"passed","title":"allows admin to get any user profile"}],"endTime":1766360233600,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/modules/identity/identity.test.ts","startTime":1766360233310,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["deletion.guard","authorizeDeletion"],"duration":42,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"deletion.guard authorizeDeletion should DENY deletion when ALLOW_DESTRUCTIVE_OPS is not set","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233525,"status":"passed","title":"should DENY deletion when ALLOW_DESTRUCTIVE_OPS is not set"},{"ancestorTitles":["deletion.guard","authorizeDeletion"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"deletion.guard authorizeDeletion should DENY deletion when caller is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233568,"status":"passed","title":"should DENY deletion when caller is missing"},{"ancestorTitles":["deletion.guard","authorizeDeletion"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"deletion.guard authorizeDeletion should DENY deletion when reason is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233571,"status":"passed","title":"should DENY deletion when reason is missing"},{"ancestorTitles":["deletion.guard","authorizeDeletion"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"deletion.guard authorizeDeletion should AUTHORIZE deletion when all requirements met","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233573,"status":"passed","title":"should AUTHORIZE deletion when all requirements met"},{"ancestorTitles":["deletion.guard","isProtectedCollection"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"deletion.guard isProtectedCollection should identify protected collections","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233579,"status":"passed","title":"should identify protected collections"},{"ancestorTitles":["deletion.guard","isProtectedCollection"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"deletion.guard isProtectedCollection should allow non-protected collections","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233581,"status":"passed","title":"should allow non-protected collections"},{"ancestorTitles":["deletion.guard","authorizeProtectedDeletion"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"deletion.guard authorizeProtectedDeletion should DENY protected deletion without confirmation","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233583,"status":"passed","title":"should DENY protected deletion without confirmation"},{"ancestorTitles":["deletion.guard","authorizeProtectedDeletion"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"deletion.guard authorizeProtectedDeletion should AUTHORIZE protected deletion with confirmation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233587,"status":"passed","title":"should AUTHORIZE protected deletion with confirmation"},{"ancestorTitles":["deletion.guard","assertDeletionAuthorized"],"duration":25,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"deletion.guard assertDeletionAuthorized should throw when deletion is not authorized","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233590,"status":"passed","title":"should throw when deletion is not authorized"},{"ancestorTitles":["deletion.guard","assertDeletionAuthorized"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"deletion.guard assertDeletionAuthorized should not throw when deletion is authorized","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233615,"status":"passed","title":"should not throw when deletion is authorized"}],"endTime":1766360233625,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/utils/__tests__/deletion.guard.test.ts","startTime":1766360233272,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ToolContext","asToolContext"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ToolContext asToolContext should create ToolContext from legacy userId string with default marketId","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233717,"status":"passed","title":"should create ToolContext from legacy userId string with default marketId"},{"ancestorTitles":["ToolContext","asToolContext"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ToolContext asToolContext should preserve marketId from existing ToolContext","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360233728,"status":"passed","title":"should preserve marketId from existing ToolContext"},{"ancestorTitles":["ToolContext","asToolContext"],"duration":24,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ToolContext asToolContext should throw if ToolContext is passed without marketId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233731,"status":"passed","title":"should throw if ToolContext is passed without marketId"},{"ancestorTitles":["ToolContext","asToolContext"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ToolContext asToolContext should use provided defaultMarketId for legacy path","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233755,"status":"passed","title":"should use provided defaultMarketId for legacy path"},{"ancestorTitles":["ToolContext","requireToolUserId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ToolContext requireToolUserId should return userId if present","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233756,"status":"passed","title":"should return userId if present"},{"ancestorTitles":["ToolContext","requireToolUserId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ToolContext requireToolUserId should throw if userId is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233757,"status":"passed","title":"should throw if userId is missing"},{"ancestorTitles":["ToolContext","requireToolMarketId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ToolContext requireToolMarketId should return marketId if present and valid","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233758,"status":"passed","title":"should return marketId if present and valid"},{"ancestorTitles":["ToolContext","requireToolMarketId"],"duration":26,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ToolContext requireToolMarketId should throw if marketId is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233759,"status":"passed","title":"should throw if marketId is missing"},{"ancestorTitles":["ToolContext","requireToolMarketId"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ToolContext requireToolMarketId should throw if marketId is invalid","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233785,"status":"passed","title":"should throw if marketId is invalid"}],"endTime":1766360233813,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/services/tools/__tests__/toolContext.test.ts","startTime":1766360233502,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["circuitBreaker.middleware","recordRequest"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"circuitBreaker.middleware recordRequest should start with CLOSED state","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233723,"status":"passed","title":"should start with CLOSED state"},{"ancestorTitles":["circuitBreaker.middleware","recordRequest"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"circuitBreaker.middleware recordRequest should track successful requests","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233730,"status":"passed","title":"should track successful requests"},{"ancestorTitles":["circuitBreaker.middleware","recordRequest"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"circuitBreaker.middleware recordRequest should track failed requests","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233736,"status":"passed","title":"should track failed requests"},{"ancestorTitles":["circuitBreaker.middleware","recordRequest"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"circuitBreaker.middleware recordRequest should calculate mixed error rate","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233737,"status":"passed","title":"should calculate mixed error rate"},{"ancestorTitles":["circuitBreaker.middleware","circuit state transitions"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"circuitBreaker.middleware circuit state transitions should NOT open circuit below minimum requests","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233737,"status":"passed","title":"should NOT open circuit below minimum requests"},{"ancestorTitles":["circuitBreaker.middleware","circuit state transitions"],"duration":76,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"circuitBreaker.middleware circuit state transitions should OPEN circuit when threshold exceeded","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233738,"status":"passed","title":"should OPEN circuit when threshold exceeded"},{"ancestorTitles":["circuitBreaker.middleware","forceCloseCircuit"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"circuitBreaker.middleware forceCloseCircuit should force close an open circuit","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233815,"status":"passed","title":"should force close an open circuit"},{"ancestorTitles":["circuitBreaker.middleware","clearCircuitState"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"circuitBreaker.middleware clearCircuitState should reset all state","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233820,"status":"passed","title":"should reset all state"}],"endTime":1766360233824,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/middleware/__tests__/circuitBreaker.middleware.test.ts","startTime":1766360233522,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Taxi Tools","detectDistrictFromCoordinates"],"duration":30,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxi Tools detectDistrictFromCoordinates should detect Girne district from valid coordinates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233758,"status":"passed","title":"should detect Girne district from valid coordinates"},{"ancestorTitles":["Taxi Tools","detectDistrictFromCoordinates"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxi Tools detectDistrictFromCoordinates should detect Lefkosa district from valid coordinates","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233790,"status":"pending","title":"should detect Lefkosa district from valid coordinates"},{"ancestorTitles":["Taxi Tools","detectDistrictFromCoordinates"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxi Tools detectDistrictFromCoordinates should detect Famagusta district from valid coordinates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233790,"status":"passed","title":"should detect Famagusta district from valid coordinates"},{"ancestorTitles":["Taxi Tools","detectDistrictFromCoordinates"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxi Tools detectDistrictFromCoordinates should detect Iskele district from valid coordinates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233791,"status":"passed","title":"should detect Iskele district from valid coordinates"},{"ancestorTitles":["Taxi Tools","detectDistrictFromCoordinates"],"duration":33,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxi Tools detectDistrictFromCoordinates should return Unknown for out-of-bounds coordinates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233792,"status":"passed","title":"should return Unknown for out-of-bounds coordinates"},{"ancestorTitles":["Taxi Tools","detectDistrictFromCoordinates"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxi Tools detectDistrictFromCoordinates should return Unknown when coordinates are missing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233832,"status":"passed","title":"should return Unknown when coordinates are missing"},{"ancestorTitles":["Taxi Tools","requestTaxi"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxi Tools requestTaxi should successfully create a taxi request with valid data","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360233841,"status":"passed","title":"should successfully create a taxi request with valid data"},{"ancestorTitles":["Taxi Tools","requestTaxi"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxi Tools requestTaxi should fail when customer phone is missing and user not found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233850,"status":"passed","title":"should fail when customer phone is missing and user not found"},{"ancestorTitles":["Taxi Tools","requestTaxi"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxi Tools requestTaxi should reverse geocode when pickup is current location","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233852,"status":"passed","title":"should reverse geocode when pickup is current location"},{"ancestorTitles":["Taxi Tools","requestTaxi"],"duration":36,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxi Tools requestTaxi should handle service errors gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233864,"status":"passed","title":"should handle service errors gracefully"},{"ancestorTitles":["Taxi Tools","dispatchTaxi"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxi Tools dispatchTaxi should redirect to requestTaxi with inferred district from location string","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233900,"status":"passed","title":"should redirect to requestTaxi with inferred district from location string"},{"ancestorTitles":["Taxi Tools","dispatchTaxi"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxi Tools dispatchTaxi should detect district from coordinates when location string is ambiguous","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233903,"status":"passed","title":"should detect district from coordinates when location string is ambiguous"},{"ancestorTitles":["Taxi Tools","dispatchTaxi"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Taxi Tools dispatchTaxi should handle Famagusta/Magusa location strings","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233905,"status":"passed","title":"should handle Famagusta/Magusa location strings"}],"endTime":1766360233908,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/services/tools/__tests__/taxi.tools.test.ts","startTime":1766360233526,"status":"focused","summary":""},{"assertionResults":[{"ancestorTitles":["Knowledge Service","chunkText"],"duration":16,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Knowledge Service chunkText should split long text into chunks","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233959,"status":"passed","title":"should split long text into chunks"},{"ancestorTitles":["Knowledge Service","chunkText"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Knowledge Service chunkText should return single chunk for short text","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233976,"status":"passed","title":"should return single chunk for short text"},{"ancestorTitles":["Knowledge Service","chunkText"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Knowledge Service chunkText should handle text with sentence boundaries","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360233976,"status":"passed","title":"should handle text with sentence boundaries"},{"ancestorTitles":["Knowledge Service","chunkText"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Knowledge Service chunkText should filter out tiny chunks","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233982,"status":"passed","title":"should filter out tiny chunks"},{"ancestorTitles":["Knowledge Service","chunkText"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Knowledge Service chunkText should handle empty string","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233985,"status":"passed","title":"should handle empty string"},{"ancestorTitles":["Knowledge Service","chunkText"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Knowledge Service chunkText should preserve content integrity","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233987,"status":"passed","title":"should preserve content integrity"},{"ancestorTitles":["Knowledge Service","generateEmbedding","with live API"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Knowledge Service generateEmbedding with live API should generate embedding vector","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233989,"status":"pending","title":"should generate embedding vector"},{"ancestorTitles":["Knowledge Service","extractTextFromImage","with live API"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Knowledge Service extractTextFromImage with live API should extract text from image buffer","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233989,"status":"pending","title":"should extract text from image buffer"},{"ancestorTitles":["Cosine Similarity (Integration)"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Cosine Similarity (Integration) should rank similar texts higher","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233990,"status":"passed","title":"should rank similar texts higher"},{"ancestorTitles":["Knowledge Persistence (Integration)","with live Firestore"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Knowledge Persistence (Integration) with live Firestore should write chunks to Firestore","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233991,"status":"pending","title":"should write chunks to Firestore"},{"ancestorTitles":["Knowledge Persistence (Integration)","with live Firestore"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Knowledge Persistence (Integration) with live Firestore should read chunks from Firestore","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233991,"status":"pending","title":"should read chunks from Firestore"},{"ancestorTitles":["Knowledge Persistence (Integration)","with live Firestore"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Knowledge Persistence (Integration) with live Firestore should filter by businessId correctly","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233991,"status":"pending","title":"should filter by businessId correctly"},{"ancestorTitles":["Knowledge Persistence (Integration)","with live Firestore"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Knowledge Persistence (Integration) with live Firestore should retrieve relevant knowledge for queries","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233991,"status":"pending","title":"should retrieve relevant knowledge for queries"},{"ancestorTitles":["Knowledge Persistence (Integration)","with live Firestore"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Knowledge Persistence (Integration) with live Firestore should clear all knowledge for a business","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233991,"status":"pending","title":"should clear all knowledge for a business"}],"endTime":1766360233993,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/services/knowledge.service.test.ts","startTime":1766360233241,"status":"focused","summary":""},{"assertionResults":[{"ancestorTitles":["transactionRepository","State Machine Guards"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"transactionRepository State Machine Guards should allow hold from draft status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233973,"status":"passed","title":"should allow hold from draft status"},{"ancestorTitles":["transactionRepository","State Machine Guards"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"transactionRepository State Machine Guards should reject hold from confirmed status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233982,"status":"passed","title":"should reject hold from confirmed status"},{"ancestorTitles":["transactionRepository","State Machine Guards"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"transactionRepository State Machine Guards should reject confirm from draft status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233983,"status":"passed","title":"should reject confirm from draft status"},{"ancestorTitles":["transactionRepository","State Machine Guards"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"transactionRepository State Machine Guards should reject confirm when hold is expired","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233989,"status":"passed","title":"should reject confirm when hold is expired"},{"ancestorTitles":["transactionRepository","Concurrency Control"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"transactionRepository Concurrency Control should fail hold when slot is already held","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233991,"status":"passed","title":"should fail hold when slot is already held"},{"ancestorTitles":["transactionRepository","Concurrency Control"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"transactionRepository Concurrency Control should fail hold when slot is confirmed","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233992,"status":"passed","title":"should fail hold when slot is confirmed"},{"ancestorTitles":["transactionRepository","Concurrency Control"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"transactionRepository Concurrency Control should succeed hold when previous hold expired","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233995,"status":"passed","title":"should succeed hold when previous hold expired"},{"ancestorTitles":["transactionRepository","Transaction Not Found"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"transactionRepository Transaction Not Found should return TRANSACTION_NOT_FOUND for missing transaction","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233997,"status":"passed","title":"should return TRANSACTION_NOT_FOUND for missing transaction"},{"ancestorTitles":["transactionRepository","createDraft"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"transactionRepository createDraft should create a draft transaction with correct totals","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360233998,"status":"passed","title":"should create a draft transaction with correct totals"}],"endTime":1766360234001,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/repositories/transaction.repository.test.ts","startTime":1766360233682,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["recursion.guard","checkRecursion"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"recursion.guard checkRecursion should allow first execution (depth 1)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233883,"status":"passed","title":"should allow first execution (depth 1)"},{"ancestorTitles":["recursion.guard","checkRecursion"],"duration":45,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"recursion.guard checkRecursion should allow second execution (depth 2)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233889,"status":"passed","title":"should allow second execution (depth 2)"},{"ancestorTitles":["recursion.guard","checkRecursion"],"duration":24,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"recursion.guard checkRecursion should HALT on third execution (depth 3)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233934,"status":"passed","title":"should HALT on third execution (depth 3)"},{"ancestorTitles":["recursion.guard","checkRecursion"],"duration":12,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"recursion.guard checkRecursion should track different events separately","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233964,"status":"passed","title":"should track different events separately"},{"ancestorTitles":["recursion.guard","assertRecursionSafe"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"recursion.guard assertRecursionSafe should not throw on first execution","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233982,"status":"passed","title":"should not throw on first execution"},{"ancestorTitles":["recursion.guard","assertRecursionSafe"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"recursion.guard assertRecursionSafe should throw when recursion limit exceeded","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233983,"status":"passed","title":"should throw when recursion limit exceeded"},{"ancestorTitles":["recursion.guard","cache management"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"recursion.guard cache management should track cache size correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360233996,"status":"passed","title":"should track cache size correctly"},{"ancestorTitles":["recursion.guard","cache management"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"recursion.guard cache management should clear cache correctly","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360233997,"status":"passed","title":"should clear cache correctly"}],"endTime":1766360234001,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/utils/__tests__/recursion.guard.test.ts","startTime":1766360233615,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ThreadId Service","computeThreadId"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ThreadId Service computeThreadId should produce identical IDs for same inputs (deterministic)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234086,"status":"passed","title":"should produce identical IDs for same inputs (deterministic)"},{"ancestorTitles":["ThreadId Service","computeThreadId"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ThreadId Service computeThreadId should produce different IDs for different actorIds","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234102,"status":"passed","title":"should produce different IDs for different actorIds"},{"ancestorTitles":["ThreadId Service","computeThreadId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ThreadId Service computeThreadId should produce different IDs for different thread types","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234104,"status":"passed","title":"should produce different IDs for different thread types"},{"ancestorTitles":["ThreadId Service","computeThreadId"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ThreadId Service computeThreadId should include correct prefix for each thread type","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360234105,"status":"passed","title":"should include correct prefix for each thread type"},{"ancestorTitles":["ThreadId Service","computeThreadId"],"duration":27,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ThreadId Service computeThreadId should require businessId for business_public thread type","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234118,"status":"passed","title":"should require businessId for business_public thread type"},{"ancestorTitles":["ThreadId Service","computeThreadId"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ThreadId Service computeThreadId should require businessId for business_ops thread type","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234145,"status":"passed","title":"should require businessId for business_ops thread type"},{"ancestorTitles":["ThreadId Service","computeThreadId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ThreadId Service computeThreadId should NOT require businessId for dispatch (defaults to global)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234147,"status":"passed","title":"should NOT require businessId for dispatch (defaults to global)"},{"ancestorTitles":["ThreadId Service","computeThreadId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ThreadId Service computeThreadId should produce different IDs for dispatch with different businessIds","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234148,"status":"passed","title":"should produce different IDs for dispatch with different businessIds"},{"ancestorTitles":["ThreadId Service","computeThreadId"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ThreadId Service computeThreadId should produce same businessId + actorId → same thread for ops","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234149,"status":"passed","title":"should produce same businessId + actorId → same thread for ops"},{"ancestorTitles":["ThreadId Service","generateMessageId"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ThreadId Service generateMessageId should produce unique IDs on each call","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234149,"status":"passed","title":"should produce unique IDs on each call"},{"ancestorTitles":["ThreadId Service","generateMessageId"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ThreadId Service generateMessageId should have msg_ prefix","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234151,"status":"passed","title":"should have msg_ prefix"}],"endTime":1766360234155,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/services/domains/conversations/threadId.service.test.ts","startTime":1766360233836,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["check-service-boundaries script"],"duration":233,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"check-service-boundaries script passes on current tree","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360233715,"status":"passed","title":"passes on current tree"},{"ancestorTitles":["check-service-boundaries script"],"duration":288,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"check-service-boundaries script fails on a known bad import","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360233950,"status":"passed","title":"fails on a known bad import"}],"endTime":1766360234239,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/scripts/check-service-boundaries.test.ts","startTime":1766360233547,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["RAG Service","retrieveContext"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RAG Service retrieveContext should return empty result when no chunks found","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360234223,"status":"passed","title":"should return empty result when no chunks found"},{"ancestorTitles":["RAG Service","retrieveContext"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RAG Service retrieveContext should apply diversity cap (max 2 chunks per doc)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360234239,"status":"passed","title":"should apply diversity cap (max 2 chunks per doc)"},{"ancestorTitles":["RAG Service","retrieveContext"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RAG Service retrieveContext should filter chunks above score threshold","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360234241,"status":"passed","title":"should filter chunks above score threshold"},{"ancestorTitles":["RAG Service","retrieveContext"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RAG Service retrieveContext should format context text with numbered chunks","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234247,"status":"passed","title":"should format context text with numbered chunks"},{"ancestorTitles":["RAG Service","buildSystemPrompt"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RAG Service buildSystemPrompt should include business name","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234251,"status":"passed","title":"should include business name"},{"ancestorTitles":["RAG Service","buildSystemPrompt"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RAG Service buildSystemPrompt should include security rules","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234254,"status":"passed","title":"should include security rules"},{"ancestorTitles":["RAG Service","buildSystemPrompt"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RAG Service buildSystemPrompt should include category when provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234255,"status":"passed","title":"should include category when provided"},{"ancestorTitles":["RAG Service","buildPromptWithContext"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RAG Service buildPromptWithContext should include context when provided","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360234256,"status":"passed","title":"should include context when provided"},{"ancestorTitles":["RAG Service","buildPromptWithContext"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RAG Service buildPromptWithContext should handle empty context gracefully with category suggestions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234257,"status":"passed","title":"should handle empty context gracefully with category suggestions"},{"ancestorTitles":["RAG Service","config"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RAG Service config should expose configuration values","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360234259,"status":"passed","title":"should expose configuration values"}],"endTime":1766360234264,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/api/services/rag.service.test.ts","startTime":1766360233925,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Merchant Auth System","Step 1: Token Generation (Admin)"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Merchant Auth System Step 1: Token Generation (Admin) generates a token and stores only the hash","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1766360234274,"status":"passed","title":"generates a token and stores only the hash"},{"ancestorTitles":["Merchant Auth System","Step 2: Token Exchange (Merchant)"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Merchant Auth System Step 2: Token Exchange (Merchant) exchanges valid raw token for JWT","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1766360234289,"status":"passed","title":"exchanges valid raw token for JWT"}],"endTime":1766360234303,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/__tests__/integration/merchant-auth.test.ts","startTime":1766360233854,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth Middleware","isAuthenticated"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware isAuthenticated should reject requests without authorization header","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360234302,"status":"passed","title":"should reject requests without authorization header"},{"ancestorTitles":["Auth Middleware","isAuthenticated"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware isAuthenticated should reject requests without Bearer prefix","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234316,"status":"passed","title":"should reject requests without Bearer prefix"},{"ancestorTitles":["Auth Middleware","isAuthenticated"],"duration":22,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware isAuthenticated should reject invalid tokens","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360234317,"status":"passed","title":"should reject invalid tokens"},{"ancestorTitles":["Auth Middleware","isAuthenticated"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware isAuthenticated should set user on request and call next for valid token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360234339,"status":"passed","title":"should set user on request and call next for valid token"},{"ancestorTitles":["Auth Middleware","isAuthenticated"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware isAuthenticated should default role to \"user\" if not set","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234342,"status":"passed","title":"should default role to \"user\" if not set"},{"ancestorTitles":["Auth Middleware","isAuthenticated"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware isAuthenticated should include businessId from token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234342,"status":"passed","title":"should include businessId from token"},{"ancestorTitles":["Auth Middleware","isBusiness"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware isBusiness should reject non-business users","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360234344,"status":"passed","title":"should reject non-business users"},{"ancestorTitles":["Auth Middleware","isBusiness"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware isBusiness should allow business users","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234347,"status":"passed","title":"should allow business users"},{"ancestorTitles":["Auth Middleware","isBusiness"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Middleware isBusiness should allow admin users","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234348,"status":"passed","title":"should allow admin users"}],"endTime":1766360234350,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/middleware/__tests__/auth.test.ts","startTime":1766360234025,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["NotificationService","PushNotificationChannel"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationService PushNotificationChannel should return not available (stub)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234353,"status":"passed","title":"should return not available (stub)"},{"ancestorTitles":["NotificationService","PushNotificationChannel"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationService PushNotificationChannel should return failure when send attempted","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234357,"status":"passed","title":"should return failure when send attempted"},{"ancestorTitles":["NotificationService","WhatsAppNotificationChannel"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationService WhatsAppNotificationChannel should be available for unlisted merchants with phone","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234358,"status":"passed","title":"should be available for unlisted merchants with phone"},{"ancestorTitles":["NotificationService","WhatsAppNotificationChannel"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationService WhatsAppNotificationChannel should not be available for unlisted merchants without phone","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234359,"status":"passed","title":"should not be available for unlisted merchants without phone"},{"ancestorTitles":["NotificationService","NotificationService orchestration"],"duration":15,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationService NotificationService orchestration should try all channels in order","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234367,"status":"passed","title":"should try all channels in order"}],"endTime":1766360234391,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/services/notification/__tests__/notification.test.ts","startTime":1766360234041,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Job Confirmation Endpoint","ConfirmJobParamsSchema"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Job Confirmation Endpoint ConfirmJobParamsSchema should validate valid job id","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234436,"status":"passed","title":"should validate valid job id"},{"ancestorTitles":["Job Confirmation Endpoint","ConfirmJobParamsSchema"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Job Confirmation Endpoint ConfirmJobParamsSchema should reject empty job id","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234441,"status":"passed","title":"should reject empty job id"},{"ancestorTitles":["Job Confirmation Endpoint","ConfirmJobRequestSchema"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Job Confirmation Endpoint ConfirmJobRequestSchema should accept empty body","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234443,"status":"passed","title":"should accept empty body"},{"ancestorTitles":["Job Confirmation Endpoint","ConfirmJobRequestSchema"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Job Confirmation Endpoint ConfirmJobRequestSchema should accept optional note","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234445,"status":"passed","title":"should accept optional note"},{"ancestorTitles":["Job Confirmation Endpoint","confirmJob handler"],"duration":21,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Job Confirmation Endpoint confirmJob handler should throw 404 if job does not exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234446,"status":"passed","title":"should throw 404 if job does not exist"},{"ancestorTitles":["Job Confirmation Endpoint","confirmJob handler"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Job Confirmation Endpoint confirmJob handler should throw 403 if user is not owner","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234467,"status":"passed","title":"should throw 403 if user is not owner"},{"ancestorTitles":["Job Confirmation Endpoint","confirmJob handler"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Job Confirmation Endpoint confirmJob handler should throw 400 if invalid state transition","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234470,"status":"passed","title":"should throw 400 if invalid state transition"},{"ancestorTitles":["Job Confirmation Endpoint","confirmJob handler"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Job Confirmation Endpoint confirmJob handler should confirm job and return updated job","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360234473,"status":"passed","title":"should confirm job and return updated job"}],"endTime":1766360234486,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/http/v1/jobs/__tests__/confirm.test.ts","startTime":1766360234167,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["WhatsApp Inbound Repository","Receipt creation principles"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Inbound Repository Receipt creation principles should use MessageSid as document ID for idempotency","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234500,"status":"passed","title":"should use MessageSid as document ID for idempotency"},{"ancestorTitles":["WhatsApp Inbound Repository","Receipt creation principles"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Inbound Repository Receipt creation principles should track status lifecycle: queued → processing → processed","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1766360234503,"status":"passed","title":"should track status lifecycle: queued → processing → processed"},{"ancestorTitles":["WhatsApp Inbound Repository","Idempotency contract"],"duration":0,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Inbound Repository Idempotency contract createIfAbsent returns created=false for duplicate MessageSid","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234505,"status":"passed","title":"createIfAbsent returns created=false for duplicate MessageSid"},{"ancestorTitles":["WhatsApp Inbound Repository","Idempotency contract"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Inbound Repository Idempotency contract markProcessing returns false if already processed","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234505,"status":"passed","title":"markProcessing returns false if already processed"},{"ancestorTitles":["WhatsApp Inbound Repository","Idempotency contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Inbound Repository Idempotency contract markProcessing returns false if processing recently","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234507,"status":"passed","title":"markProcessing returns false if processing recently"},{"ancestorTitles":["WhatsApp Inbound Repository","Fast-ACK webhook contract"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Inbound Repository Fast-ACK webhook contract webhook should only do: parse → receipt → enqueue → 200","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"startAt":1766360234508,"status":"passed","title":"webhook should only do: parse → receipt → enqueue → 200"}],"endTime":1766360234513,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/services/domains/channels/whatsappInbound.repository.test.ts","startTime":1766360234323,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["WhatsApp Router","resolveActorByPhone"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Router resolveActorByPhone should return null for unknown phone (no collections match)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234508,"status":"passed","title":"should return null for unknown phone (no collections match)"},{"ancestorTitles":["WhatsApp Router","resolveActorByPhone"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Router resolveActorByPhone should resolve actor from actors collection (authoritative)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360234516,"status":"passed","title":"should resolve actor from actors collection (authoritative)"},{"ancestorTitles":["WhatsApp Router","resolveActorByPhone"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Router resolveActorByPhone should resolve driver from taxi_drivers collection (fallback)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360234518,"status":"passed","title":"should resolve driver from taxi_drivers collection (fallback)"},{"ancestorTitles":["WhatsApp Router","resolveActorByPhone"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Router resolveActorByPhone should resolve business_owner from businesses collection (fallback)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360234521,"status":"passed","title":"should resolve business_owner from businesses collection (fallback)"},{"ancestorTitles":["WhatsApp Router","routeInbound"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Router routeInbound should route unknown phone to consumer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234526,"status":"passed","title":"should route unknown phone to consumer"},{"ancestorTitles":["WhatsApp Router","routeInbound"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Router routeInbound should route actor.type=consumer to consumer","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234532,"status":"passed","title":"should route actor.type=consumer to consumer"},{"ancestorTitles":["WhatsApp Router","routeInbound"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Router routeInbound should route actor.type=driver to driver/dispatch","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234542,"status":"passed","title":"should route actor.type=driver to driver/dispatch"},{"ancestorTitles":["WhatsApp Router","routeInbound"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Router routeInbound should route actor.type=business_owner with businessId to business_ops","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360234543,"status":"passed","title":"should route actor.type=business_owner with businessId to business_ops"},{"ancestorTitles":["WhatsApp Router","routeInbound"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Router routeInbound should route business_staff with businessId to business_ops","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234549,"status":"passed","title":"should route business_staff with businessId to business_ops"},{"ancestorTitles":["WhatsApp Router","routeInbound"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Router routeInbound should fallback to consumer if business_owner has no businessId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234552,"status":"passed","title":"should fallback to consumer if business_owner has no businessId"},{"ancestorTitles":["WhatsApp Router","routeInbound"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"WhatsApp Router routeInbound business_ops route must always include businessId","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360234555,"status":"passed","title":"business_ops route must always include businessId"}],"endTime":1766360234564,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/services/channels/whatsapp/whatsapp.router.test.ts","startTime":1766360234291,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Chat Controller","handleChatMessage","Request Validation"],"duration":145,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Chat Controller handleChatMessage Request Validation should handle valid chat request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234290,"status":"passed","title":"should handle valid chat request"},{"ancestorTitles":["Chat Controller","handleChatMessage","Request Validation"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Chat Controller handleChatMessage Request Validation should include sessionId in response","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234436,"status":"passed","title":"should include sessionId in response"},{"ancestorTitles":["Chat Controller","handleChatMessage","Location Handling"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Chat Controller handleChatMessage Location Handling should extract location from message with SHARED LOCATION tag","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234442,"status":"passed","title":"should extract location from message with SHARED LOCATION tag"},{"ancestorTitles":["Chat Controller","handleChatMessage","Confirmation Gate"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Chat Controller handleChatMessage Confirmation Gate should handle YES confirmation for pending transaction","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234445,"status":"passed","title":"should handle YES confirmation for pending transaction"},{"ancestorTitles":["Chat Controller","handleChatMessage","Confirmation Gate"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Chat Controller handleChatMessage Confirmation Gate should handle NO cancellation for pending transaction","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1766360234447,"status":"passed","title":"should handle NO cancellation for pending transaction"},{"ancestorTitles":["Chat Controller","handleChatMessage","Confirmation Gate"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Chat Controller handleChatMessage Confirmation Gate should remind user about pending confirmation for other messages","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234452,"status":"passed","title":"should remind user about pending confirmation for other messages"},{"ancestorTitles":["Chat Controller","handleChatMessage","Error Handling"],"duration":65,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Chat Controller handleChatMessage Error Handling should return 500 on internal error","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234453,"status":"passed","title":"should return 500 on internal error"},{"ancestorTitles":["Chat Controller","handleChatMessage","Error Handling"],"duration":57,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Chat Controller handleChatMessage Error Handling should handle missing GEMINI_API_KEY gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1766360234518,"status":"passed","title":"should handle missing GEMINI_API_KEY gracefully"},{"ancestorTitles":["Chat Controller","reindexListings"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Chat Controller reindexListings should handle reindex request","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1766360234579,"status":"passed","title":"should handle reindex request"}],"endTime":1766360234590,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/controllers/__tests__/chat.controller.test.ts","startTime":1766360234017,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Thread Repository","ensureOutboundSend"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Thread Repository ensureOutboundSend should return created: true if not exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234625,"status":"passed","title":"should return created: true if not exists"},{"ancestorTitles":["Thread Repository","ensureOutboundSend"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Thread Repository ensureOutboundSend should return created: false if exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1766360234633,"status":"passed","title":"should return created: false if exists"}],"endTime":1766360234636,"message":"","name":"/Users/apple_trnc/Downloads/easy-islanders/functions/src/services/domains/conversations/thread.repository.test.ts","startTime":1766360234251,"status":"passed","summary":""}],"wasInterrupted":false}
